import{a as A}from"./chunk-AFJJ2DMH.js";import{$,A as f,F as c,G as S,M as d,O as p,P as j,Q as o,R as n,S as b,V as h,W as g,X as I,Y as H,Z as r,_ as V,c as w,ca as B,da as D,ea as O,h as L,i as T,j as E,k as F,ka as P,la as k,m as y,ma as W,p as N,pa as z,q as v,qa as U,ra as Z,s as R,sa as q,u as s,ua as G,v as C,wa as l,xa as J,ya as M,z as u,za as K}from"./chunk-TDKKGUXP.js";var ae=e=>["/books",e];function ce(e,m){if(e&1&&(o(0,"li")(1,"a",6),r(2),o(3,"p",7),r(4),n()()()),e&2){let t=m.$implicit;c(),p("routerLink",B(3,ae,t.isbn)),c(),$(" ",t.title," "),c(2),V(t.subtitle)}}function pe(e,m){e&1&&(o(0,"li"),r(1,"No results"),n())}function me(e,m){if(e&1&&(o(0,"ul",3),d(1,ce,5,5,"li",4)(2,pe,2,0,"li",5),n()),e&2){let t=m.ngIf;c(),p("ngForOf",t),c(),p("ngIf",!t.length)}}var X=(()=>{class e{service;input$=new w;isLoading=!1;results$;constructor(t){this.service=t,this.results$=this.input$.pipe(L(i=>i.length>=3),T(500),E(),y(()=>this.isLoading=!0),F(i=>this.service.getAllSearch(i)),y(()=>this.isLoading=!1))}static \u0275fac=function(i){return new(i||e)(S(K))};static \u0275cmp=s({type:e,selectors:[["bm-search"]],decls:4,vars:5,consts:[["searchInput",""],["type","search","autocomplete","off","aria-label","Search",3,"input"],["class","search-results",4,"ngIf"],[1,"search-results"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["role","doc-subtitle"]],template:function(i,a){if(i&1){let x=h();o(0,"input",1,0),g("input",function(){u(x);let ne=H(1);return f(a.input$.next(ne.value))}),n(),d(2,me,3,2,"ul",2),D(3,"async")}i&2&&(j("loading",a.isLoading),c(2),p("ngIf",O(3,3,a.results$)))},dependencies:[P,k,l,W]})}return e})();var Y=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=s({type:e,selectors:[["bm-home"]],decls:7,vars:0,consts:[["routerLink","/books",1,"button","red"]],template:function(i,a){i&1&&(o(0,"h1"),r(1,"Home"),n(),o(2,"a",0),r(3,` Show book list
`),n(),o(4,"h2"),r(5,"Search"),n(),b(6,"bm-search"))},dependencies:[l,X]})}return e})();var le=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Y},{path:"books",loadChildren:()=>import("./chunk-XKXN46PE.js").then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>import("./chunk-K4QTD3PL.js").then(e=>e.AdminModule)}],ee=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=C({type:e});static \u0275inj=v({imports:[M.forRoot(le),M]})}return e})();function fe(e,m){if(e&1){let t=h();o(0,"button",6),g("click",function(){u(t);let a=I();return f(a.auth.login())}),r(1,"Login"),n()}}function de(e,m){if(e&1){let t=h();o(0,"button",7),g("click",function(){u(t);let a=I();return f(a.auth.logout())}),r(1,"Logout"),n()}}var te=(()=>{class e{auth;constructor(t){this.auth=t}static \u0275fac=function(i){return new(i||e)(S(A))};static \u0275cmp=s({type:e,selectors:[["bm-root"]],decls:12,vars:2,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],["class","green",3,"click",4,"ngIf"],["class","red",3,"click",4,"ngIf"],[1,"green",3,"click"],[1,"red",3,"click"]],template:function(i,a){i&1&&(o(0,"nav")(1,"a",0),r(2,"Home"),n(),o(3,"a",1),r(4,"Books"),n(),o(5,"a",2),r(6,"Administration"),n(),o(7,"div",3),d(8,fe,2,0,"button",4)(9,de,2,0,"button",5),n()(),o(10,"main"),b(11,"router-outlet"),n()),i&2&&(c(8),p("ngIf",!a.auth.isAuthenticated),c(),p("ngIf",a.auth.isAuthenticated))},dependencies:[k,G,l,J]})}return e})();var ie=(()=>{class e{authService;constructor(t){this.authService=t}intercept(t,i){let a="1234567890";if(this.authService.isAuthenticated){let x=t.clone({setHeaders:{Authorization:`Bearer ${a}`}});return i.handle(x)}else return i.handle(t)}static \u0275fac=function(i){return new(i||e)(R(A))};static \u0275prov=N({token:e,factory:e.\u0275fac})}return e})();var oe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=C({type:e,bootstrap:[te]});static \u0275inj=v({providers:[{provide:z,useClass:ie,multi:!0}],imports:[q,ee,U]})}return e})();Z().bootstrapModule(oe,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
