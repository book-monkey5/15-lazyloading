import{a as y}from"./chunk-B4Z74Q5Z.js";import{$ as H,A as f,B as d,G as c,H as k,L as h,N as p,O as R,P as o,Q as r,R as S,U as g,W as v,X as A,Z as B,_ as a,aa as $,c as T,da as D,ea as O,fa as P,h as E,i as M,ia as W,j as F,ja as x,k as N,ka as z,m as w,na as U,oa as q,p as j,pa as G,q as C,qa as J,s as V,sa as K,ua as u,v as l,va as Q,w as b,wa as L,xa as X}from"./chunk-G4YUJ6DZ.js";var st=e=>["/books",e];function ct(e,t){if(e&1&&(o(0,"li")(1,"a",6),a(2),o(3,"p",7),a(4),r()()()),e&2){let s=t.$implicit;c(),p("routerLink",D(3,st,s.isbn)),c(),$(" ",s.title," "),c(2),H(s.subtitle)}}function mt(e,t){e&1&&(o(0,"li"),a(1,"No results"),r())}function pt(e,t){if(e&1&&(o(0,"ul",3),h(1,ct,5,5,"li",4)(2,mt,2,0,"li",5),r()),e&2){let s=t.ngIf;c(),p("ngForOf",s),c(),p("ngIf",!s.length)}}var Z=(()=>{let t=class t{constructor(n){this.service=n,this.input$=new T,this.isLoading=!1,this.results$=this.input$.pipe(E(i=>i.length>=3),M(500),F(),w(()=>this.isLoading=!0),N(i=>this.service.getAllSearch(i)),w(()=>this.isLoading=!1))}};t.\u0275fac=function(i){return new(i||t)(k(X))},t.\u0275cmp=l({type:t,selectors:[["bm-search"]],decls:4,vars:5,consts:[["type","search","autocomplete","off","aria-label","Search",3,"input"],["searchInput",""],["class","search-results",4,"ngIf"],[1,"search-results"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],["role","doc-subtitle"]],template:function(i,m){if(i&1){let I=g();o(0,"input",0,1),v("input",function(){f(I);let rt=B(1);return d(m.input$.next(rt.value))}),r(),h(2,pt,3,2,"ul",2),O(3,"async")}i&2&&(R("loading",m.isLoading),c(2),p("ngIf",P(3,3,m.results$)))},dependencies:[W,x,u,z]});let e=t;return e})();var tt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=l({type:t,selectors:[["bm-home"]],decls:7,vars:0,consts:[["routerLink","/books",1,"button","red"]],template:function(i,m){i&1&&(o(0,"h1"),a(1,"Home"),r(),o(2,"a",0),a(3,` Show book list
`),r(),o(4,"h2"),a(5,"Search"),r(),S(6,"bm-search"))},dependencies:[u,Z]});let e=t;return e})();var ut=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:tt},{path:"books",loadChildren:()=>import("./chunk-R53MXQCY.js").then(e=>e.BooksModule)},{path:"admin",loadChildren:()=>import("./chunk-3JT2QDWD.js").then(e=>e.AdminModule)}],et=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t}),t.\u0275inj=C({imports:[L.forRoot(ut),L]});let e=t;return e})();function dt(e,t){if(e&1){let s=g();o(0,"button",6),v("click",function(){f(s);let i=A();return d(i.auth.login())}),a(1,"Login"),r()}}function ht(e,t){if(e&1){let s=g();o(0,"button",7),v("click",function(){f(s);let i=A();return d(i.auth.logout())}),a(1,"Logout"),r()}}var it=(()=>{let t=class t{constructor(n){this.auth=n}};t.\u0275fac=function(i){return new(i||t)(k(y))},t.\u0275cmp=l({type:t,selectors:[["bm-root"]],decls:12,vars:2,consts:[["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/books","routerLinkActive","active","ariaCurrentWhenActive","page"],["routerLink","/admin","routerLinkActive","active","ariaCurrentWhenActive","page"],[1,"actions"],["class","green",3,"click",4,"ngIf"],["class","red",3,"click",4,"ngIf"],[1,"green",3,"click"],[1,"red",3,"click"]],template:function(i,m){i&1&&(o(0,"nav")(1,"a",0),a(2,"Home"),r(),o(3,"a",1),a(4,"Books"),r(),o(5,"a",2),a(6,"Administration"),r(),o(7,"div",3),h(8,dt,2,0,"button",4)(9,ht,2,0,"button",5),r()(),o(10,"main"),S(11,"router-outlet"),r()),i&2&&(c(8),p("ngIf",!m.auth.isAuthenticated),c(),p("ngIf",m.auth.isAuthenticated))},dependencies:[x,K,u,Q]});let e=t;return e})();var nt=(()=>{let t=class t{constructor(n){this.authService=n}intercept(n,i){let m="1234567890";if(this.authService.isAuthenticated){let I=n.clone({setHeaders:{Authorization:`Bearer ${m}`}});return i.handle(I)}else return i.handle(n)}};t.\u0275fac=function(i){return new(i||t)(V(y))},t.\u0275prov=j({token:t,factory:t.\u0275fac});let e=t;return e})();var ot=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=b({type:t,bootstrap:[it]}),t.\u0275inj=C({providers:[{provide:U,useClass:nt,multi:!0}],imports:[J,et,q]});let e=t;return e})();G().bootstrapModule(ot).catch(e=>console.error(e));
